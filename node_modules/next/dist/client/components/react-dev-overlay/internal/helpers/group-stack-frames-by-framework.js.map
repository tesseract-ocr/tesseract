{"version":3,"sources":["../../../../../../src/client/components/react-dev-overlay/internal/helpers/group-stack-frames-by-framework.ts"],"sourcesContent":["import type { SourcePackage } from '../../server/shared'\nimport type { OriginalStackFrame } from './stack-frame'\n\nexport type StackFramesGroup = {\n  framework?: SourcePackage | null\n  stackFrames: OriginalStackFrame[]\n}\n\n/**\n * Group sequences of stack frames by framework.\n *\n * Given the following stack frames:\n * Error\n *   user code\n *   user code\n *   react\n *   react\n *   next\n *   next\n *   react\n *   react\n *\n * The grouped stack frames would be:\n * > user code\n * > react\n * > next\n * > react\n *\n */\nexport function groupStackFramesByFramework(\n  stackFrames: OriginalStackFrame[]\n): StackFramesGroup[] {\n  const stackFramesGroupedByFramework: StackFramesGroup[] = []\n\n  for (const stackFrame of stackFrames) {\n    const currentGroup =\n      stackFramesGroupedByFramework[stackFramesGroupedByFramework.length - 1]\n    const framework = stackFrame.sourcePackage\n\n    if (currentGroup && currentGroup.framework === framework) {\n      currentGroup.stackFrames.push(stackFrame)\n    } else {\n      stackFramesGroupedByFramework.push({\n        framework: framework,\n        stackFrames: [stackFrame],\n      })\n    }\n  }\n\n  return stackFramesGroupedByFramework\n}\n"],"names":["groupStackFramesByFramework","stackFrames","stackFramesGroupedByFramework","stackFrame","currentGroup","length","framework","sourcePackage","push"],"mappings":";;;;+BA6BgBA;;;eAAAA;;;AAAT,SAASA,4BACdC,WAAiC;IAEjC,MAAMC,gCAAoD,EAAE;IAE5D,KAAK,MAAMC,cAAcF,YAAa;QACpC,MAAMG,eACJF,6BAA6B,CAACA,8BAA8BG,MAAM,GAAG,EAAE;QACzE,MAAMC,YAAYH,WAAWI,aAAa;QAE1C,IAAIH,gBAAgBA,aAAaE,SAAS,KAAKA,WAAW;YACxDF,aAAaH,WAAW,CAACO,IAAI,CAACL;QAChC,OAAO;YACLD,8BAA8BM,IAAI,CAAC;gBACjCF,WAAWA;gBACXL,aAAa;oBAACE;iBAAW;YAC3B;QACF;IACF;IAEA,OAAOD;AACT"}