{"version":3,"sources":["../../../../src/build/webpack/loaders/next-flight-action-entry-loader.ts"],"sourcesContent":["export type NextFlightActionEntryLoaderOptions = {\n  actions: string\n}\n\nfunction nextFlightActionEntryLoader(this: any) {\n  const { actions }: NextFlightActionEntryLoaderOptions = this.getOptions()\n\n  const actionList = JSON.parse(actions) as [\n    string,\n    [id: string, name: string][],\n  ][]\n  const individualActions = actionList\n    .map(([path, actionsFromModule]) => {\n      return actionsFromModule.map(([id, name]) => {\n        return [id, path, name]\n      })\n    })\n    .flat()\n\n  return `\n${individualActions\n  .map(([id, path, name]) => {\n    // Re-export the same functions from the original module path as action IDs.\n    return `export { ${name} as \"${id}\" } from ${JSON.stringify(path)}`\n  })\n  .join('\\n')}\n`\n}\n\nexport default nextFlightActionEntryLoader\n"],"names":["nextFlightActionEntryLoader","actions","getOptions","actionList","JSON","parse","individualActions","map","path","actionsFromModule","id","name","flat","stringify","join"],"mappings":";;;;+BA6BA;;;eAAA;;;AAzBA,SAASA;IACP,MAAM,EAAEC,OAAO,EAAE,GAAuC,IAAI,CAACC,UAAU;IAEvE,MAAMC,aAAaC,KAAKC,KAAK,CAACJ;IAI9B,MAAMK,oBAAoBH,WACvBI,GAAG,CAAC,CAAC,CAACC,MAAMC,kBAAkB;QAC7B,OAAOA,kBAAkBF,GAAG,CAAC,CAAC,CAACG,IAAIC,KAAK;YACtC,OAAO;gBAACD;gBAAIF;gBAAMG;aAAK;QACzB;IACF,GACCC,IAAI;IAEP,OAAO,CAAC;AACV,EAAEN,kBACCC,GAAG,CAAC,CAAC,CAACG,IAAIF,MAAMG,KAAK;QACpB,4EAA4E;QAC5E,OAAO,CAAC,SAAS,EAAEA,KAAK,KAAK,EAAED,GAAG,SAAS,EAAEN,KAAKS,SAAS,CAACL,OAAO;IACrE,GACCM,IAAI,CAAC,MAAM;AACd,CAAC;AACD;MAEA,WAAed"}