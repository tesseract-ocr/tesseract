{"version":3,"sources":["../../src/export/index.ts"],"names":["ExportError","exportApp","exportAppImpl","Error","code","setupWorkers","options","nextConfig","exportPageWorker","pages","app","exportAppPageWorker","end","endWorker","Promise","resolve","threads","experimental","cpus","silent","buildExport","Log","info","timeout","staticPageGenerationTimeout","infoPrinted","worker","Worker","require","onRestart","_method","path","attempts","warn","maxRetries","numWorkers","enableWorkerThreads","workerThreads","exposedMethods","default","dir","span","traceChild","traceFn","loadEnvConfig","enabledDirectories","traceAsyncFn","loadConfig","PHASE_EXPORT","distDir","join","telemetry","Telemetry","record","eventCliSession","webpackVersion","cliCommand","isSrcDir","hasNowJson","findUp","cwd","isCustomServer","turboFlag","pagesDir","appDir","subFolders","trailingSlash","buildIdFile","BUILD_ID_FILE","existsSync","customRoutes","filter","config","hasNextSupport","length","buildId","fs","readFile","pagesManifest","SERVER_DIRECTORY","PAGES_MANIFEST","prerenderManifest","PRERENDER_MANIFEST","appRoutePathManifest","APP_PATH_ROUTES_MANIFEST","err","isError","undefined","excludedPrerenderRoutes","Set","Object","keys","defaultPathMap","hasApiRoutes","page","isAPIRoute","dynamicRoutes","add","mapAppRouteToPage","Map","pageName","routePath","entries","set","isAppPageRoute","routes","_isAppDir","outDir","outdir","rm","recursive","force","mkdir","writeFile","EXPORT_DETAIL","formatManifest","version","outDirectory","success","recursiveCopy","CLIENT_STATIC_FILES_PATH","exportPathMap","defaultMap","i18n","images","loader","unoptimized","isNextImageImported","EXPORT_MARKER","then","text","JSON","parse","catch","serverActionsManifest","SERVER_REFERENCE_MANIFEST","output","node","edge","renderOpts","previewProps","preview","nextExport","assetPrefix","replace","dev","basePath","canonicalBase","amp","ampSkipValidation","skipValidation","ampOptimizerConfig","optimizer","locales","locale","defaultLocale","domainLocales","domains","disableOptimizedLoading","supportsDynamicHTML","crossOrigin","optimizeCss","nextConfigOutput","nextScriptWorkers","optimizeFonts","largePageDataBytes","serverActions","serverComponents","nextFontManifest","NEXT_FONT_MANIFEST","strictNextHead","deploymentId","ppr","missingSuspenseWithCSRBailout","swrDelta","serverRuntimeConfig","publicRuntimeConfig","runtimeConfig","globalThis","__NEXT_DATA__","exportMap","exportPaths","map","denormalizePagePath","normalizePagePath","filteredPaths","route","fallbackEnabledPages","prerenderInfo","fallback","size","SSG_FALLBACK_EXPORT_ERROR","hasMiddleware","middlewareManifest","MIDDLEWARE_MANIFEST","middleware","yellow","bold","progress","createProgress","statusMessage","pagesDataDir","ampValidations","publicDir","CLIENT_PUBLIC_FILES_PATH","workers","results","all","pathMap","exportPage","pageExportSpan","setAttribute","result","ampValidatorPath","validator","parentSpanId","getId","httpAgentOptions","debugOutput","cacheMaxMemorySize","fetchCache","fetchCacheKeyPrefix","cacheHandler","enableExperimentalReact","needsExperimentalReact","prerenderEarlyExit","errorPaths","renderError","hadValidationError","collector","byPath","byPage","ssgNotFoundPaths","turborepoAccessTraceResults","turborepoAccessTraceResult","TurborepoAccessTraceResult","fromSerialized","push","validation","errors","get","revalidate","validateRevalidate","metadata","hasEmptyPrelude","hasPostponed","ssgNotFound","durations","durationsByPath","duration","endWorkerPromise","srcRoute","appPageName","isAppPath","Boolean","isAppRouteHandler","isAppRouteRoute","notFoundRoutes","includes","pagePath","getPagePath","distPagesDir","slice","split","orig","handlerSrc","handlerDest","dirname","copyFile","htmlDest","sep","ampHtmlDest","jsonDest","htmlSrc","jsonSrc","RSC_SUFFIX","console","log","formatAmpMessages","sort","flush","nextExportSpan"],"mappings":"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"}